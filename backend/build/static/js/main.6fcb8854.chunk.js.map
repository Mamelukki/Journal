{"version":3,"sources":["reducers/notificationReducer.js","utils/storage.js","services/journalEntries.js","services/users.js","reducers/userReducer.js","reducers/journalEntryReducer.js","components/JournalEntryEditForm.js","components/JournalEntry.js","components/JournalEntryForm.js","reducers/filterReducer.js","components/Filter.js","components/JournalEntryList.js","components/RegisterForm.js","reducers/loginReducer.js","components/AccountDropdown.js","services/login.js","components/LoginForm.js","components/Notification.js","images/sunset.jpg","images/flower.jpg","components/HomePage.js","components/User.js","App.js","store.js","index.js"],"names":["timeoutId","storageKey","user","localStorage","setItem","JSON","stringify","parse","getItem","removeItem","baseUrl","getConfig","storage","headers","Authorization","token","getAll","a","axios","get","response","data","createNew","newObject","post","edit","editedObject","put","id","remove","delete","addImage","formData","removeImage","journalEntryId","imageId","username","password","object","initializeUsers","dispatch","userService","users","type","addUser","userReducer","state","action","filter","addJournalEntry","journalEntry","editJournalEntry","removeJournalEntry","journalEntryService","journalEntryReducer","map","journalEntryToChange","find","journalEntryWithImage","images","concat","journalEntryWithoutImage","image","addNotification","message","messageType","time","clearTimeout","setTimeout","removeNotification","notificationReducer","JournalEntryEditForm","showEditForm","setShowEditForm","useDispatch","useState","content","setContent","feelings","setFeelings","title","setTitle","handleEdit","event","preventDefault","editedJournalEntry","error","onSubmit","TextField","label","fullWidth","value","onChange","target","multiline","rows","Button","style","marginRight","variant","color","onClick","useStyles","makeStyles","journalEntryImage","position","display","top","left","zIndex","right","zoomedImage","marginTop","height","maxWidth","window","innerWidth","JournalEntry","classes","history","useHistory","fullDate","Date","date","getDate","month","getMonth","year","getFullYear","selectedImage","setSelectedImage","uploadFinished","setUploadFinished","showImageUpload","setShowImageUpload","showFullSizeImage","setShowFullSizeImage","handleRemoveImage","handleSubmit","FormData","append","document","getElementById","flexDirection","justifyContent","alignItems","margin","startIcon","confirm","push","handleRemove","accept","e","files","htmlFor","CircularProgress","marginLeft","marginBottom","whiteSpace","gridTemplateColumns","gridGap","className","backgroundImage","imageUrl","width","backgroundSize","backgroundPosition","IconButton","zoomImage","src","JournalEntryForm","showAddForm","setShowAddForm","newJournalEntry","textAlign","setFilter","radioButtonValue","filterReducer","Filter","setRadioButtonValue","filterValue","setFilterValue","FormControl","component","FormLabel","RadioGroup","row","aria-label","name","defaultValue","FormControlLabel","control","Radio","JournalEntryList","currentUser","journalEntries","useSelector","personalJournalEntries","sortedJournalEntries","sort","b","length","TableContainer","Paper","Table","TableBody","TableRow","TableCell","toLowerCase","includes","toDateString","to","registerForm","newUser","login","logout","loginReducer","button","flexGrow","AccountDropdown","anchorEl","setAnchorEl","closeDropdown","aria-controls","aria-haspopup","currentTarget","Menu","open","Boolean","onClose","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","textDecoration","MenuItem","credentials","LoginForm","setUsername","setPassword","handleLogin","loginService","notification","Notification","Alert","severity","HomePage","flower","backgroundRepeat","fontSize","paddingLeft","paddingRight","sunset","border","padding","User","useParams","removeUser","root","textTransform","rightSide","appBar","backgroundColor","toolbar","minHeight","bottomAppBar","bottom","App","match","useRouteMatch","params","useEffect","AppBar","elevation","Toolbar","Typography","Link","path","RegisterForm","reducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render"],"mappings":"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","file":"static/js/main.6fcb8854.chunk.js","sourcesContent":["const notificationReducer = (state = null, action) => {\n  switch (action.type) {\n  case 'SET_NOTIFICATION':\n    return action.data\n  case 'REMOVE_NOTIFICATION':\n    return null\n  default:\n    return state\n  }\n}\n\nlet timeoutId\n\nexport const addNotification = (message, messageType, time) => {\n  return async dispatch => {\n    dispatch({\n      type: 'SET_NOTIFICATION',\n      data: {\n        messageType,\n        message\n      }\n    })\n\n    if (timeoutId) {\n      clearTimeout(timeoutId)\n    }\n\n    timeoutId = setTimeout(() => {\n      dispatch(removeNotification())\n    }, time * 1000)\n  }\n}\n\nexport const removeNotification = () => {\n  return {\n    type: 'REMOVE_NOTIFICATION'\n  }\n}\n\nexport default notificationReducer","const storageKey = 'LoggedJournalAppUser'\n\nconst saveUser = (user) =>\n  localStorage.setItem(storageKey, JSON.stringify(user))\n\nconst loadUser = () =>\n  JSON.parse(localStorage.getItem(storageKey))\n\nconst logoutUser = () =>\n  localStorage.removeItem(storageKey)\n\nexport default {\n  saveUser,\n  loadUser,\n  logoutUser\n}","import axios from 'axios'\nimport storage from '../utils/storage'\n\nconst baseUrl = 'http://localhost:3001/api/journalEntries'\n\nconst getConfig = () => {\n  if (storage.loadUser()) {\n    return {\n      headers: { Authorization: `bearer ${storage.loadUser().token}` }\n    }\n  }\n}\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst createNew = async (newObject) => {\n  const response = await axios.post(baseUrl, newObject, getConfig())\n  return response.data\n}\n\nconst edit = async (editedObject) => {\n  const response = await axios.put(`${baseUrl}/${editedObject.id}`, editedObject, getConfig())\n  return response.data\n}\n\nconst remove = async (id) => {\n  const response = await axios.delete(`${baseUrl}/${id}`, getConfig())\n  return response.data\n}\n\nconst addImage = async (id, formData) => {\n  const response = await axios.post(`${baseUrl}/${id}/images`, formData, getConfig())\n  return response.data\n}\n\nconst removeImage = async (journalEntryId, imageId) => {\n  const response = await axios.delete(`${baseUrl}/${journalEntryId}/images/${imageId}`, getConfig())\n  return response.data\n}\n\nexport default {\n  getAll,\n  createNew,\n  edit,\n  remove,\n  addImage,\n  removeImage\n}","import axios from 'axios'\nimport storage from '../utils/storage'\n\nconst baseUrl = 'http://localhost:3001/api/users'\n\nconst getConfig = () => {\n  if (storage.loadUser()) {\n    return {\n      headers: { Authorization: `bearer ${storage.loadUser().token}` }\n    }\n  }\n}\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst createNew = async (username, password) => {\n  const object = { username, password }\n  const response = await axios.post(baseUrl, object)\n  return response.data\n}\n\nconst remove = async (id) => {\n  const response = await axios.delete(`${baseUrl}/${id}`, getConfig())\n  return response.data\n}\n\nexport default {\n  getAll,\n  createNew,\n  remove\n}","import userService from '../services/users'\n\nconst userReducer = (state = [], action) => {\n  switch (action.type) {\n  case 'INIT_USERS':\n    return action.data\n  case 'ADD_USER':\n    return [...state, action.data]\n  case 'REMOVE_USER':\n    return state.filter(user => user.id !== action.data)\n  default:\n    return state\n  }\n}\n\nexport const initializeUsers = () => {\n  return async dispatch => {\n    const users = await userService.getAll()\n    dispatch({\n      type: 'INIT_USERS',\n      data: users\n    })\n  }\n}\n\nexport const addUser = (user) => {\n  return async dispatch => {\n    dispatch({\n      type: 'ADD_USER',\n      data: user\n    })\n  }\n}\n\nexport const removeUser = (id) => {\n  return async dispatch => {\n    await userService.remove(id)\n    dispatch({\n      type: 'REMOVE_USER',\n      data: id\n    })\n  }\n}\n\nexport default userReducer","import journalEntryService from '../services/journalEntries'\nimport { initializeUsers } from '../reducers/userReducer'\n\nconst journalEntryReducer = (state = [], action) => {\n  switch (action.type) {\n  case 'INIT_JOURNAL_ENTRIES':\n    return action.data\n  case 'ADD_JOURNAL_ENTRY':\n    return [...state, action.data]\n  case 'EDIT_JOURNAL_ENTRY':\n    return state.map(journalEntry => journalEntry.id === action.data.id ? action.data : journalEntry)\n  case 'ADD_IMAGE': {\n    const journalEntryToChange = state.find(journalEntry => journalEntry.id === action.data.journalEntry.id)\n    const journalEntryWithImage = {\n      ...journalEntryToChange,\n      images: journalEntryToChange.images.concat(action.data)\n    }\n    return state.map(journalEntry =>\n      journalEntry.id !== action.data.journalEntry.id ? journalEntry : journalEntryWithImage\n    )\n  }\n  case 'REMOVE_IMAGE': {\n    const journalEntryToChange = state.find(journalEntry => journalEntry.id === action.journalEntryId)\n    const journalEntryWithoutImage = {\n      ...journalEntryToChange,\n      images: journalEntryToChange.images.filter(image => image.id !== action.imageId)\n    }\n    return state.map(journalEntry =>\n      journalEntry.id !== action.journalEntryId ? journalEntry : journalEntryWithoutImage\n    )\n  }\n  case 'REMOVE_JOURNAL_ENTRY':\n    return state.filter(journalEntry => journalEntry.id !== action.data)\n  default:\n    return state\n  }\n}\n\nexport const initializeJournalEntries = () => {\n  return async dispatch => {\n    const journalEntries = await journalEntryService.getAll()\n    dispatch({\n      type: 'INIT_JOURNAL_ENTRIES',\n      data: journalEntries\n    })\n  }\n}\n\nexport const addJournalEntry = (journalEntry) => {\n  return async dispatch => {\n    dispatch({\n      type: 'ADD_JOURNAL_ENTRY',\n      data: journalEntry\n    })\n    dispatch(initializeUsers())\n  }\n}\n\nexport const editJournalEntry = (journalEntry) => {\n  return async dispatch => {\n    dispatch({\n      type: 'EDIT_JOURNAL_ENTRY',\n      data: journalEntry\n    })\n  }\n}\n\nexport const addImage = (journalEntry) => {\n  return async dispatch => {\n    dispatch({\n      type: 'ADD_IMAGE',\n      data: journalEntry\n    })\n  }\n}\n\nexport const removeImage = (journalEntryId, imageId) => {\n  return async dispatch => {\n    dispatch({\n      type: 'REMOVE_IMAGE',\n      journalEntryId: journalEntryId,\n      imageId: imageId\n    })\n  }\n}\n\nexport const removeJournalEntry = (id) => {\n  return async dispatch => {\n    await journalEntryService.remove(id)\n    dispatch({\n      type: 'REMOVE_JOURNAL_ENTRY',\n      data: id\n    })\n    dispatch(initializeUsers())\n  }\n}\n\nexport default journalEntryReducer","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { editJournalEntry } from '../reducers/journalEntryReducer'\nimport { addNotification } from '../reducers/notificationReducer'\nimport journalEntryService from '../services/journalEntries'\nimport { TextField, Button } from '@material-ui/core'\n\nconst JournalEntryEditForm = ({ journalEntry, showEditForm, setShowEditForm }) => {\n  const dispatch = useDispatch()\n  const [content, setContent] = useState(journalEntry.content)\n  const [feelings, setFeelings] = useState(journalEntry.feelings)\n  const [title, setTitle] = useState(journalEntry.title)\n\n  const resetValues = () => {\n    setTitle(journalEntry.title)\n    setContent(journalEntry.content)\n    setFeelings(journalEntry.feelings)\n  }\n\n  const handleCancel = () => {\n    setTitle(journalEntry.title)\n    setContent(journalEntry.content)\n    setFeelings(journalEntry.feelings)\n    setShowEditForm(!showEditForm)\n  }\n\n  const handleEdit = async (event) => {\n    event.preventDefault()\n\n    try {\n      const id = journalEntry.id\n      const editedJournalEntry = await journalEntryService.edit({ id, content, feelings, title })\n      dispatch(editJournalEntry(editedJournalEntry))\n      dispatch(addNotification('Journal entry edited', 'success', 5))\n      setShowEditForm(!showEditForm)\n    } catch (exception) {\n      dispatch(addNotification(`${exception.response.data.error}`, 'error', 5))\n    }\n  }\n\n  return (\n    <span>\n      <h4>Edit journal entry</h4>\n      <form onSubmit={handleEdit}>\n        <div>\n          <div>\n            <TextField label='Title' fullWidth\n              id='title'\n              value={title}\n              onChange={({ target }) => setTitle(target.value)}\n            />\n          </div>\n          <div>\n            <TextField label='Feelings' fullWidth\n              id='feelings'\n              value={feelings}\n              onChange={({ target }) => setFeelings(target.value)}\n            />\n          </div>\n          <TextField label='Content' multiline rows={7} fullWidth\n            id='editedContent'\n            value={content}\n            onChange={({ target }) => setContent(target.value)}\n          />\n        </div>\n        <br></br>\n        <Button style={{ marginRight: '10px' }} variant='contained' color='primary' type='submit'>Submit</Button>\n        <Button style={{ marginRight: '10px' }} variant='contained' color='secondary' onClick={() => resetValues()}>Reset original values</Button>\n        <Button style={{ marginRight: '10px' }} variant='contained' onClick={() => handleCancel()}>Cancel</Button>\n      </form>\n    </span>\n  )\n}\n\nexport default JournalEntryEditForm","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { removeJournalEntry, addImage, removeImage } from '../reducers/journalEntryReducer'\nimport { addNotification } from '../reducers/notificationReducer'\nimport journalEntryService from '../services/journalEntries'\nimport JournalEntryEditForm from './JournalEntryEditForm'\nimport { Button, IconButton } from '@material-ui/core'\nimport PhotoCamera from '@material-ui/icons/PhotoCamera'\nimport EditIcon from '@material-ui/icons/Edit'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport ZoomInIcon from '@material-ui/icons/ZoomIn'\nimport CloseIcon from '@material-ui/icons/Close'\nimport { useHistory } from 'react-router-dom'\nimport CircularProgress from '@material-ui/core/CircularProgress'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(() => ({\n  journalEntryImage: {\n    position: 'relative',\n    '& .imageDeleteButton': {\n      display: 'none',\n    },\n    '& .zoomButton': {\n      display: 'none',\n    },\n    '&:hover .zoomButton': {\n      display: 'block',\n      position: 'absolute',\n      color: 'white',\n      top: '10px',\n      left: '1px',\n      zIndex: '100',\n    },\n    '&:hover .imageDeleteButton': {\n      display: 'block',\n      position: 'absolute',\n      color: 'white',\n      top: '10px',\n      right: '1px',\n      zIndex: '100',\n    }\n  },\n  zoomedImage: {\n    position: 'relative',\n    marginTop: '25px',\n    '& .closeZoomButton': {\n      display: 'inline-block',\n      position: 'absolute',\n      color: 'black',\n      top: '0px',\n      right: '0px',\n      zIndex: '100',\n    },\n    '& .zoomedBackgroundImage': {\n      height: 'auto',\n      maxWidth: `${window.innerWidth - 160}px`,\n    }\n  }\n}))\n\nconst JournalEntry = ({ journalEntry }) => {\n  if (!journalEntry) {\n    return null\n  }\n\n  const classes = useStyles()\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const fullDate = new Date(journalEntry.date)\n  const date = fullDate.getDate()\n  const month = fullDate.getMonth()\n  const year = fullDate.getFullYear()\n  const [selectedImage, setSelectedImage] = useState('')\n  const id = journalEntry.id\n  const [showEditForm, setShowEditForm] = useState(false)\n  const [uploadFinished, setUploadFinished] = useState(true)\n  const [showImageUpload, setShowImageUpload] = useState(false)\n  const [showFullSizeImage, setShowFullSizeImage] = useState('')\n\n  let zoomedImage = ''\n  if (showFullSizeImage) {\n    zoomedImage = journalEntry.images.find(image => image.id === showFullSizeImage)\n  }\n\n  const handleRemove = (id) => {\n    const confirm = window.confirm('Are you sure you want to remove this journal entry? Confirming will also delete the images of this journal entry.')\n    if (confirm) {\n      dispatch(removeJournalEntry(id))\n      dispatch(addNotification('Journal entry deleted', 'success', 5))\n      history.push('/journalEntries')\n    }\n  }\n\n  const handleRemoveImage = async (journalEntryId, imageId) => {\n    dispatch(addNotification('Deleting image, please wait...', 'success', 5))\n    await journalEntryService.removeImage(journalEntryId, imageId)\n    dispatch(removeImage(journalEntryId, imageId))\n    dispatch(addNotification('Image deleted', 'success', 5))\n  }\n\n  const cancelImageAddition = () => {\n    setShowImageUpload(false)\n    setSelectedImage('')\n  }\n\n  const zoomImage = (id) => {\n    setShowFullSizeImage(id)\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n\n    if (!selectedImage || selectedImage === null) {\n      return (\n        dispatch(addNotification('Please choose an image before uploading', 'error', 5))\n      )\n    } else {\n      try {\n        setUploadFinished(false)\n        const formData = new FormData()\n        formData.append('image', selectedImage)\n        const journalEntry = await journalEntryService.addImage(id, formData)\n        dispatch(addImage(journalEntry))\n        dispatch(addNotification('Image added successfully', 'success', 5))\n        setUploadFinished(true)\n        setSelectedImage(null)\n        document.getElementById('imageUpload').value = ''\n      } catch (exception) {\n        setUploadFinished(false)\n        if (!exception.response.data.error) {\n          dispatch(addNotification(`${exception.response.data}`, 'error', 5))\n        } else {\n          dispatch(addNotification(`${exception.response.data.error}`, 'error', 15))\n        }\n        setUploadFinished(true)\n        setSelectedImage(null)\n        document.getElementById('imageUpload').value = ''\n      }\n    }\n  }\n\n  const printImages = () => {\n    if (!journalEntry.images) {\n      return null\n    }\n\n    if (showFullSizeImage === '') {\n      return (\n        <div style={{ position: 'relative', display: 'grid', gridTemplateColumns: '1fr 1fr 1fr 1fr 1fr', gridGap: '10px', justifyContent: 'space-between', marginTop: '25px' }}>\n          {journalEntry.images.map(image =>\n            <div key={image.id} className={classes.journalEntryImage}>\n              <p className='backgroundImage' style={{ backgroundImage: `url(${image.imageUrl})`, height: '200px', width: '100%', backgroundSize: 'cover', backgroundPosition: 'center' }} />\n              <IconButton className='imageDeleteButton' onClick={() => handleRemoveImage(journalEntry.id, image.id)}><DeleteIcon /></IconButton>\n              <IconButton className='zoomButton' onClick={() => zoomImage(image.id)}><ZoomInIcon/></IconButton>\n            </div>\n          )}\n        </div>\n      )\n    } else {\n      return (\n        <div className={classes.zoomedImage}>\n          <img className='zoomedBackgroundImage' src={zoomedImage.imageUrl}></img>\n          <IconButton className='closeZoomButton' onClick={() => setShowFullSizeImage('')}><CloseIcon/></IconButton>\n        </div>)\n    }\n  }\n\n  return (\n    <div>\n      {showEditForm === false && showImageUpload === false ?\n        <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n          <div style={{ margin: '5px' }}>\n            <Button variant='contained' color='primary' startIcon={<EditIcon />} onClick={() => setShowEditForm(!showEditForm)}>Edit</Button>\n          </div>\n          <div style={{ margin: '5px' }}>\n            <Button variant='contained' color='primary' startIcon={<PhotoCamera />} onClick={() => setShowImageUpload(!showImageUpload)}>Add image</Button>\n          </div>\n          <div style={{ margin: '5px' }}>\n            <Button variant='contained' color='secondary' startIcon={<DeleteIcon />} onClick={() => handleRemove(journalEntry.id)}>Delete</Button>\n          </div>\n        </div>\n        : null}\n      <div style={{ marginTop: '10px' }}>\n        {showEditForm === false && showImageUpload && uploadFinished === true ?\n          <div>\n            <h2>Add image</h2>\n            <div>Upload one image at a time. The maximum number of images per entry is 10. Accepted formats are .jpeg, .jpg, .png and .gif.</div>\n            <br></br>\n            <form onSubmit={handleSubmit}>\n              <input accept='image/png, image/jpg, image/gif, image/jpeg' type='file' id='imageUpload' onChange={(e) => setSelectedImage(e.target.files[0])} />\n              <label htmlFor='imageUpload'>\n              </label>\n              <div style={{ marginTop: '15px' }}>\n                {selectedImage && uploadFinished === true ? <Button style={{ marginRight: '10px' }} variant='contained' color='primary' type='submit'>Add image</Button> : null}\n                <Button variant='contained' onClick={() => cancelImageAddition()}>Close</Button>\n              </div>\n            </form>\n          </div>\n          : null}\n      </div>\n      {showImageUpload === true && uploadFinished === false\n        ? <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'center', alignItems: 'center' }}>\n          <CircularProgress></CircularProgress>\n          <span style={{ marginLeft: '10px' }} >Image uploading...</span>\n        </div>\n        : null}\n      <div style={{ marginTop: '25px', marginBottom: '25px' }}>\n        {showEditForm ? <JournalEntryEditForm journalEntry={journalEntry} showEditForm={showEditForm} setShowEditForm={setShowEditForm} /> : null}\n      </div>\n      <div style={{ marginBottom: '25px', marginTop: '25px' }}>\n        <h2>{`${date}/${month}/${year}`}</h2>\n        <h1>{journalEntry.title}</h1>\n        <h4>{journalEntry.feelings ? `Feelings: ${journalEntry.feelings}` : null}</h4>\n        <div style={{ whiteSpace: 'pre-line' }}>{journalEntry.content}</div>\n      </div>\n      <div>\n        {printImages()}\n      </div>\n    </div>\n  )\n}\n\nexport default JournalEntry","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { addJournalEntry } from '../reducers/journalEntryReducer'\nimport { addNotification } from '../reducers/notificationReducer'\nimport journalEntryService from '../services/journalEntries'\nimport { TextField, Button } from '@material-ui/core'\n\nconst JournalEntryForm = ({ showAddForm, setShowAddForm }) => {\n  const dispatch = useDispatch()\n  const [title, setTitle] = useState('')\n  const [content, setContent] = useState('')\n  const [feelings, setFeelings] = useState('')\n\n  const resetValues = () => {\n    setTitle('')\n    setContent('')\n    setFeelings('')\n  }\n\n  const handleCancel = () => {\n    setTitle('')\n    setContent('')\n    setFeelings('')\n    setShowAddForm(!showAddForm)\n  }\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n\n    try {\n      const newJournalEntry = await journalEntryService.createNew({ title, content, feelings })\n      dispatch(addJournalEntry(newJournalEntry))\n      dispatch(addNotification('New journal entry added', 'success', 5))\n      setTitle('')\n      setContent('')\n      setFeelings('')\n      setShowAddForm(!showAddForm)\n    } catch (exception) {\n      dispatch(addNotification(`${exception.response.data.error}`, 'error', 5))\n    }\n  }\n\n  return (\n    <div>\n      <h3 style={{ textAlign: 'left' }}>How was your day?</h3>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <div>\n            <TextField label='Title' fullWidth\n              id='title'\n              value={title}\n              onChange={({ target }) => setTitle(target.value)}\n            />\n          </div>\n          <div>\n            <TextField label='Feelings' fullWidth\n              id='feelings'\n              value={feelings}\n              onChange={({ target }) => setFeelings(target.value)}\n            />\n          </div>\n          <div>\n            <TextField multiline label='Describe your day' rows={7} fullWidth\n              id='content'\n              value={content}\n              onChange={({ target }) => setContent(target.value)}\n            />\n          </div>\n        </div>\n        <br></br>\n        <Button style={{ marginRight: '10px' }} variant='contained' color='primary' type='submit'>Submit</Button>\n        <Button style={{ marginRight: '10px' }} variant='contained' color='secondary' onClick={() => resetValues()}>Reset</Button>\n        <Button style={{ marginRight: '10px' }} variant='contained' onClick={() => handleCancel()}>Cancel</Button>\n      </form>\n    </div>\n  )\n}\n\nexport default JournalEntryForm","const filterReducer = (state = null, action) => {\n  switch (action.type) {\n  case 'SET_FILTER':\n    return action.data\n  default:\n    return state\n  }\n}\n\nexport const setFilter = (filter, radioButtonValue) => {\n  return {\n    type: 'SET_FILTER',\n    data: {\n      filter,\n      radioButtonValue\n    }\n  }\n}\n\nexport default filterReducer","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport { setFilter } from '../reducers/filterReducer'\nimport { TextField, FormControl, FormLabel, RadioGroup, FormControlLabel, Radio } from '@material-ui/core'\n\nconst Filter = () => {\n  const dispatch = useDispatch()\n  const [radioButtonValue, setRadioButtonValue] = useState('date')\n  const [filterValue, setFilterValue] = useState('')\n\n  const handleFilterChange = (event) => {\n    setFilterValue(event.target.value)\n    dispatch(setFilter(event.target.value, radioButtonValue))\n  }\n\n  const handleRadioButtonChange = (event) => {\n    setRadioButtonValue(event.target.value)\n    dispatch(setFilter(filterValue, event.target.value))\n  }\n\n  return (\n    <span>\n      <FormControl component='fieldset'>\n        <FormLabel component='legend' style={{ textAlign: 'left' }}>Filter by</FormLabel>\n        <RadioGroup row aria-label='position' name='position' defaultValue='date' onChange={handleRadioButtonChange}>\n          <FormControlLabel\n            value='date'\n            control={<Radio color='primary' />}\n            label='Date'\n          />\n          <FormControlLabel\n            value='title'\n            control={<Radio color='primary' />}\n            label='Title'\n          />\n        </RadioGroup>\n      </FormControl>\n      <TextField variant='outlined' label='Write your filter here' onChange={handleFilterChange}></TextField>\n    </span>\n  )\n}\n\nexport default Filter","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { removeJournalEntry } from '../reducers/journalEntryReducer'\nimport { addNotification } from '../reducers/notificationReducer'\nimport JournalEntryForm from './JournalEntryForm'\nimport Filter from './Filter'\nimport { TableContainer, Table, TableBody, Paper, TableRow, TableCell, Button } from '@material-ui/core'\n\nconst JournalEntryList = ({ currentUser, journalEntries }) => {\n  const dispatch = useDispatch()\n  const filter = useSelector(state => state.filter)\n  const [showAddForm, setShowAddForm] = useState(false)\n\n  if (!currentUser) {\n    return null\n  }\n\n  const personalJournalEntries = journalEntries.filter(journalEntry => journalEntry.user.id === currentUser.id)\n  const sortedJournalEntries = personalJournalEntries.sort((a, b) => new Date(b.date) - new Date(a.date))\n\n  const handleRemove = (id) => {\n    const confirm = window.confirm('Are you sure you want to remove this journal entry? Confirming will also delete the images of this journal entry.')\n    if (confirm) {\n      dispatch(removeJournalEntry(id))\n      dispatch(addNotification('Journal entry deleted', 'success', 5))\n    }\n  }\n\n  const filteredJournalEntries = () => {\n    if (filter && filter.radioButtonValue === 'title') {\n      return sortedJournalEntries.filter(journalEntry => journalEntry.title.toLowerCase().includes(filter.filter.toLowerCase()))\n    } else if (filter && filter.radioButtonValue === 'date') {\n      return sortedJournalEntries.filter(journalEntry => new Date(journalEntry.date).toDateString().toLowerCase().includes(filter.filter.toLowerCase()))\n    } else {\n      return sortedJournalEntries\n    }\n  }\n\n  return (\n    <div>\n      {personalJournalEntries.length === 0 && showAddForm === false ? <h3 style={{ marginBottom: '20px' }}>{'Nothing here yet! Get started by adding a new entry.'}</h3> : null}\n      {showAddForm ? <JournalEntryForm showAddForm={showAddForm} setShowAddForm={setShowAddForm} /> : <Button variant='contained' color='primary' onClick={() => setShowAddForm(!showAddForm)}>Add new entry</Button>}\n      {personalJournalEntries.length > 0 && showAddForm === false ?\n        <div>\n          <br></br>\n          <div style={{ display: 'flex', flexDirection: 'row', justifyContent: 'space-between', marginTop: '25px' }}>\n            <h1>Journal entries</h1>\n            <Filter></Filter>\n          </div>\n          <TableContainer component={Paper} >\n            <Table>\n              <TableBody>\n                <TableRow>\n                  <TableCell>\n                    Date\n                  </TableCell>\n                  <TableCell>\n                    Title\n                  </TableCell>\n                  <TableCell>\n                    Options\n                  </TableCell>\n                </TableRow>\n                {filteredJournalEntries().map(journalEntry =>\n                  <TableRow key={journalEntry.id}>\n                    <TableCell>\n                      {new Date(journalEntry.date).toDateString()}\n                    </TableCell>\n                    <TableCell>\n                      {journalEntry.title}\n                    </TableCell>\n                    <TableCell>\n                      <Link to={`journalEntries/${journalEntry.id}`}><Button style={{ marginRight: '10px' }} variant='contained' color='primary' >View</Button></Link>\n                      <Button variant='contained' color='secondary' onClick={() => handleRemove(journalEntry.id)}>Delete</Button>\n                    </TableCell>\n                  </TableRow>\n                )}\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </div> :\n        null\n      }\n      <br></br>\n    </div>\n  )\n}\n\nexport default JournalEntryList","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { addUser } from '../reducers/userReducer'\nimport { addNotification } from '../reducers/notificationReducer'\nimport userService from '../services/users'\nimport { Link, useHistory } from 'react-router-dom'\nimport { TextField, Button } from '@material-ui/core'\n\nconst registerForm = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  const handleSubmit = async (event) => {\n    event.preventDefault()\n    try {\n      const username = event.target.username.value\n      const password = event.target.password.value\n      const newUser = await userService.createNew(username, password)\n      dispatch(addUser(newUser))\n      dispatch(addNotification('New account created', 'success', 5))\n      history.push('/login')\n    } catch (exception) {\n      dispatch(addNotification(`${exception.response.data.error}`, 'error', 5))\n    }\n    event.target.username.value = ''\n    event.target.password.value = ''\n  }\n\n  return (\n    <div>\n      <h2>Create account</h2>\n      <div>Already have an account? <Link to=\"/login\">Login here.</Link></div>\n      <form onSubmit={handleSubmit}>\n        <div>\n          <TextField label='Username'\n            name='username'\n            id='username' />\n        </div>\n        <div>\n          <TextField label='Password'\n            name='password'\n            type='password'\n            id='password' />\n        </div>\n        <br></br>\n        <Button id='register-button' variant='contained' color='primary' type='submit'>Register</Button>\n      </form>\n    </div>\n  )\n}\n\nexport default registerForm","const loginReducer = (state = null, action) => {\n  switch (action.type) {\n  case 'LOGIN':\n    return action.data\n  case 'LOGOUT':\n    return null\n  default:\n    return state\n  }\n}\n\nexport const login = (user) => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGIN',\n      data: user\n    })\n  }\n}\n\nexport const logout = () => {\n  return async dispatch => {\n    dispatch({\n      type: 'LOGOUT'\n    })\n  }\n}\n\nexport default loginReducer","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { IconButton, Menu, MenuItem, makeStyles } from '@material-ui/core'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport { logout } from '../reducers/loginReducer'\nimport storage from '../utils/storage'\nimport {\n  useHistory, Link\n} from 'react-router-dom'\n\nconst useStyles = makeStyles(() => ({\n  button: {\n    flexGrow: 1\n  }\n}))\n\nconst AccountDropdown = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const currentUser = useSelector(state => state.currentUser)\n  const [anchorEl, setAnchorEl] = useState()\n\n  const classes = useStyles()\n\n  const openDropdown = (event) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const closeDropdown = () => {\n    setAnchorEl(null)\n  }\n\n  const handleLogout = () => {\n    dispatch(logout())\n    storage.logoutUser()\n    history.push('/')\n  }\n\n  return (\n    <span>\n      <IconButton className={classes.button}\n        color='inherit'\n        aria-controls='profileDropdown'\n        aria-haspopup='true'\n        onClick={openDropdown}\n      >\n        <AccountCircle />\n      </IconButton>\n      <Menu\n        id=\"profileDropdown\"\n        anchorEl={anchorEl}\n        open={Boolean(anchorEl)}\n        onClose={closeDropdown}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: 'bottom',\n          horizontal: 'center',\n        }}\n        transformOrigin={{\n          vertical: 'top',\n          horizontal: 'center',\n        }}\n      >\n        <Link style={{ color: 'inherit', textDecoration: 'none' }} to={`/users/${currentUser.id}`}><MenuItem onClick={closeDropdown}>My account</MenuItem></Link>\n        <MenuItem onClick={() => handleLogout()}>Logout</MenuItem>\n      </Menu>\n    </span>\n  )\n}\n\nexport default AccountDropdown","import axios from 'axios'\n\nconst baseUrl = 'http://localhost:3001/api/login'\n\nconst login = async credentials => {\n  const response = await axios.post(baseUrl, credentials)\n  return response.data\n}\n\nexport default { login }","import React, { useState } from 'react'\nimport { useDispatch } from 'react-redux'\nimport loginService from '../services/login'\nimport { login } from '../reducers/loginReducer'\nimport { addNotification } from '../reducers/notificationReducer'\nimport storage from '../utils/storage'\nimport { Link, useHistory } from 'react-router-dom'\nimport { TextField, Button } from '@material-ui/core'\n\nconst LoginForm = () => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n\n    try {\n      const user = await loginService.login({ username, password })\n      setUsername('')\n      setPassword('')\n      dispatch(login(user))\n      storage.saveUser(user)\n      dispatch(addNotification(`${user.username} logged in`, 'success', 5))\n      history.push('/journalEntries')\n    } catch (exception) {\n      setUsername('')\n      setPassword('')\n      dispatch(addNotification('Wrong username or password', 'error', 5))\n    }\n  }\n\n  return (\n    <div>\n      <h2>Login</h2>\n      <div>New to us? <Link to='/register'>Register here.</Link></div>\n      <form onSubmit={handleLogin} >\n        <div>\n          <TextField label='Username'\n            type='text'\n            id='username'\n            value={username}\n            name='Username'\n            onChange={({ target }) => setUsername(target.value)}\n          />\n        </div>\n        <div>\n          <TextField label='Password'\n            type='password'\n            id='password'\n            value={password}\n            name='Password'\n            onChange={({ target }) => setPassword(target.value)}\n          />\n        </div>\n        <br></br>\n        <div>\n          <Button id='login-button' variant='contained' color='primary' className='login-button' type='submit'>Login</Button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default LoginForm","import React from 'react'\nimport { Alert } from '@material-ui/lab'\nimport { makeStyles } from '@material-ui/core/styles'\n\nconst useStyles = makeStyles(() => ({\n  notification: {\n    width: '100%',\n    textAlign: 'left',\n    marginBottom: '25px'\n  },\n}))\n\nconst Notification = ({ notification }) => {\n  const classes = useStyles()\n\n  if (notification === null) {\n    return null\n  }\n\n  if (notification.messageType === 'error') {\n    return (\n      <div className={classes.notification}>\n        <Alert severity='error'>\n          {notification.message}!\n        </Alert>\n      </div>\n    )\n  }\n\n  return (\n    <div className={classes.notification}>\n      <Alert severity='success'>\n        {notification.message}!\n      </Alert>\n    </div>\n  )\n}\n\nexport default Notification","export default __webpack_public_path__ + \"static/media/sunset.13aabe2b.jpg\";","export default __webpack_public_path__ + \"static/media/flower.676f415a.jpg\";","import React from 'react'\nimport sunset from '../images/sunset.jpg'\nimport flower from '../images/flower.jpg'\nimport {\n  Link\n} from 'react-router-dom'\n\nconst HomePage = () => {\n  return (\n    <div style={{ marginBottom: '25px' }}>\n      <div style={{ display: 'grid', gridTemplateColumns: '1fr 1fr', gridGap: '25px' }}>\n        <div style={{ position: 'relative' }}>\n          <p className='homePageBackgroundImage' style={{ backgroundImage: `url(${flower})`, height: '600px', maxWidth: '100%', backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat' }} />\n          <div style={{ fontSize: 'x-large', position: 'absolute', color: 'white', top: '0', display: 'flex', flexDirection: 'column', justifyContent: 'center', height: '100%', textAlign: 'center', paddingLeft: '100px', paddingRight: '100px' }}>\n            <p className='subtitle'>Ever dreamed of an online journal? We got you! In this journal, you can give the day a title, describe your day and your feelings and add up to 10 images per entry to bring your journal entries to life! <strong>Happy journaling!</strong></p>\n          </div>\n        </div>\n        <div className='imgTextWrapper' style={{ position: 'relative' }}>\n          <p className='homePageBackgroundImage' style={{ backgroundImage: `url(${sunset})`, height: '600px', maxWidth: '100%', backgroundSize: 'cover', backgroundPosition: 'center', backgroundRepeat: 'no-repeat' }} />\n          <div className='subtitle' style={{ fontSize: 'x-large', position: 'absolute', color: 'white', top: '0', display: 'flex', flexDirection: 'column', justifyContent: 'center', height: '100%', textAlign: 'center', paddingLeft: '100px', paddingRight: '100px' }}>\n            <p>New to us? No worries! Register here and keep your journal entries password protected, just like a locked diary.</p>\n            <Link to='/register' style={{ color: 'white', textDecoration: 'none', border: '1px solid white', padding: '10px 20px' }}><strong>Register</strong></Link>\n            <p>Already a member? Login here!</p>\n            <Link to='/login' style={{ color: 'white', textDecoration: 'none', border: '1px solid white', padding: '10px 20px' }}><strong>Login</strong></Link>\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default HomePage","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { removeUser } from '../reducers/userReducer'\nimport { logout } from '../reducers/loginReducer'\nimport { useParams, useHistory } from 'react-router-dom'\nimport storage from '../utils/storage'\nimport { TableContainer, Table, TableBody, Paper, TableRow, TableCell, Button } from '@material-ui/core'\n\nconst User = ({ users }) => {\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const id = useParams().id\n  const user = users.find(user => user.id === id)\n\n  if (!user) {\n    return null\n  }\n\n  const handleRemove = (id) => {\n    const confirm = window.confirm('Are you sure you want to remove your account? Confirming will delete your account permanently!')\n    if (confirm) {\n      dispatch(removeUser(id))\n      dispatch(logout())\n      storage.logoutUser()\n      history.push('/login')\n    }\n  }\n\n  return (\n    <div>\n      <h2>Account information</h2>\n      <TableContainer component={Paper}>\n        <Table>\n          <TableBody>\n            <TableRow>\n              <TableCell>\n                Username\n              </TableCell>\n              <TableCell>\n                {user.username}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                Journal entries added\n              </TableCell>\n              <TableCell>\n                {user.journalEntries.length}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                Joined\n              </TableCell>\n              <TableCell>\n                {new Date(user.date).toDateString()}\n              </TableCell>\n            </TableRow>\n            <TableRow>\n              <TableCell>\n                <Button variant='contained' color='secondary' onClick={() => handleRemove(user.id)}>Delete account</Button>\n              </TableCell>\n            </TableRow>\n          </TableBody>\n        </Table>\n      </TableContainer>\n    </div>\n  )\n}\n\nexport default User","import React, { useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport JournalEntry from './components/JournalEntry'\nimport JournalEntryList from './components/JournalEntryList'\nimport RegisterForm from './components/RegisterForm'\nimport AccountDropdown from './components/AccountDropdown'\nimport LoginForm from './components/LoginForm'\nimport Notification from './components/Notification'\nimport HomePage from './components/HomePage'\nimport User from './components/User'\nimport { initializeJournalEntries } from './reducers/journalEntryReducer'\nimport { initializeUsers } from './reducers/userReducer'\nimport { login } from './reducers/loginReducer'\nimport {\n  Switch, Route, Link, useRouteMatch\n} from 'react-router-dom'\nimport storage from './utils/storage'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { AppBar, Toolbar, Button, Typography } from '@material-ui/core'\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    display: 'flex',\n    textTransform: 'uppercase',\n    zIndex: 1\n  },\n  title: {\n    marginRight: '15px'\n  },\n  rightSide: {\n    marginLeft: 'auto'\n  },\n  appBar: {\n    backgroundColor: 'black',\n  },\n  toolbar: {\n    minHeight: 60,\n    zIndex: 1\n  },\n  bottomAppBar: {\n    bottom: 0,\n    backgroundColor: 'white',\n    color: 'black'\n  }\n}))\n\nconst App = () => {\n  const dispatch = useDispatch()\n  const journalEntries = useSelector(state => state.journalEntries)\n  const users = useSelector(state => state.users)\n  const currentUser = useSelector(state => state.currentUser)\n  const notification = useSelector(state => state.notification)\n  const match = useRouteMatch('/journalEntries/:id')\n  const journalEntry = match\n    ? journalEntries.find(journalEntry => journalEntry.id === match.params.id)\n    : null\n\n  useEffect(() => {\n    dispatch(initializeJournalEntries())\n    dispatch(initializeUsers())\n    const user = storage.loadUser()\n    if (user) {\n      dispatch(login(user))\n    }\n  }, [dispatch])\n\n  const classes = useStyles()\n\n  return (\n    <div>\n      <div className={classes.root}>\n        <AppBar position=\"static\" elevation={0} className={classes.appBar}>\n          {currentUser ?\n            <Toolbar className={classes.toolbar}>\n              <Typography variant=\"h6\" className={classes.title}>\n                <Link style={{ color: 'white', textDecoration: 'none' }} to='/'>Journal</Link>\n              </Typography>\n              <Button style={{ color: 'inherit' }} component={Link} to=\"/journalEntries\">\n                Your journal entries\n              </Button>\n              <div className={classes.rightSide}>\n                <AccountDropdown></AccountDropdown>\n              </div>\n            </Toolbar>\n            : <Toolbar>\n              <Typography variant=\"h6\" className={classes.title}>\n                <Link style={{ color: 'white', textDecoration: 'none' }} to='/'>Journal</Link>\n              </Typography>\n              <div className={classes.rightSide}>\n                <Button component={Link} to='/login' style={{ color: 'inherit' }}>Login</Button>\n                <Button component={Link} to='/register' style={{ color: 'inherit' }}>Register</Button>\n              </div>\n            </Toolbar>\n          }\n        </AppBar>\n      </div>\n      <div style={{ marginLeft: '25px', marginTop: '25px', marginRight: '25px', textAlign: 'center' }}>\n        <Notification notification={notification} />\n        <Switch>\n          <Route path=\"/journalEntries/:id\">\n            <JournalEntry journalEntry={journalEntry} />\n          </Route>\n          <Route path=\"/journalEntries\">\n            <JournalEntryList currentUser={currentUser} journalEntries={journalEntries} />\n          </Route>\n          <Route path=\"/register\">\n            <RegisterForm />\n          </Route>\n          <Route path=\"/login\">\n            <LoginForm />\n          </Route>\n          <Route path=\"/users/:id\">\n            <User users={users} />\n          </Route>\n          <Route path=\"/\">\n            {!currentUser ?\n              <HomePage></HomePage> :\n              <JournalEntryList currentUser={currentUser} journalEntries={journalEntries} />\n            }\n          </Route>\n        </Switch>\n      </div>\n    </div >\n  )\n}\n\nexport default App\n","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport journalEntryReducer from './reducers/journalEntryReducer'\nimport userReducer from './reducers/userReducer'\nimport loginReducer from './reducers/loginReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport filterReducer from './reducers/filterReducer'\n\nconst reducer = combineReducers({\n  journalEntries: journalEntryReducer,\n  users: userReducer,\n  currentUser: loginReducer,\n  notification: notificationReducer,\n  filter: filterReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(\n    applyMiddleware(thunk)\n  )\n)\n\nexport default store","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport './index.css'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nReactDOM.render(\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}